import{S as q,i as B,s as M,E as d,l as y,k as O,e as C,M as N,d as _,m as A,c as I,a as J,J as K,g as w,o as g,p as P,q as b,K as E,v as V,n as Y,w as $,x as k,y as L,B as h}from"../chunks/index-471c5598.js";import{f as j,a as z,Y as D}from"../chunks/api2-564f7f8d.js";import{B as F}from"../chunks/BoxError-e4fbeeb7.js";import{L as G}from"../chunks/Loading-28866ca5.js";import{O as H}from"../chunks/OClientView-8fe9943b.js";import{p as Q}from"../chunks/stores-08fbc986.js";import"../chunks/index-0b2b7ad8.js";import"../chunks/store-669d404b.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/Box-a27f9004.js";import"../chunks/Icon-b960e3f0.js";function v(s){return document.title=s[4]({id:"oclient.title",values:{name:s[2].name}}),{c:d,l:d,m:d,d}}function R(s){let r,n;return r=new H({props:{ocl:s[2]}}),{c(){$(r.$$.fragment)},l(e){k(r.$$.fragment,e)},m(e,o){L(r,e,o),n=!0},p(e,o){const t={};o&4&&(t.ocl=e[2]),r.$set(t)},i(e){n||(b(r.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),n=!1},d(e){h(r,e)}}}function T(s){let r,n;return r=new F({props:{msg:s[3],passive:!0}}),{c(){$(r.$$.fragment)},l(e){k(r.$$.fragment,e)},m(e,o){L(r,e,o),n=!0},p(e,o){const t={};o&8&&(t.msg=e[3]),r.$set(t)},i(e){n||(b(r.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),n=!1},d(e){h(r,e)}}}function U(s){let r,n;return r=new G({}),{c(){$(r.$$.fragment)},l(e){k(r.$$.fragment,e)},m(e,o){L(r,e,o),n=!0},p:d,i(e){n||(b(r.$$.fragment,e),n=!0)},o(e){g(r.$$.fragment,e),n=!1},d(e){h(r,e)}}}function W(s){let r,n,e,o,t,f,l=s[2]&&v(s);const u=[U,T,R],c=[];function p(a,i){return a[1]===a[0].Loading?0:a[1]===a[0].LoadingError?1:a[1]===a[0].Loaded?2:-1}return~(o=p(s))&&(t=c[o]=u[o](s)),{c(){l&&l.c(),r=y(),n=O(),e=C("main"),t&&t.c()},l(a){const i=N('[data-svelte="svelte-dibb0k"]',document.head);l&&l.l(i),r=y(),i.forEach(_),n=A(a),e=I(a,"MAIN",{});var m=J(e);t&&t.l(m),m.forEach(_)},m(a,i){l&&l.m(document.head,null),K(document.head,r),w(a,n,i),w(a,e,i),~o&&c[o].m(e,null),f=!0},p(a,[i]){a[2]?l||(l=v(a),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null);let m=o;o=p(a),o===m?~o&&c[o].p(a,i):(t&&(Y(),g(c[m],1,1,()=>{c[m]=null}),P()),~o?(t=c[o],t?t.p(a,i):(t=c[o]=u[o](a),t.c()),b(t,1),t.m(e,null)):t=null)},i(a){f||(b(t),f=!0)},o(a){g(t),f=!1},d(a){l&&l.d(a),_(r),a&&_(n),a&&_(e),~o&&c[o].d()}}}function X(s,r,n){let e,o;E(s,Q,i=>n(7,e=i)),E(s,D,i=>n(4,o=i));var t;(function(i){i[i.Loading=0]="Loading",i[i.LoadingError=1]="LoadingError",i[i.Loaded=2]="Loaded"})(t||(t={}));let f,l,u;l=e.url.searchParams,u=l.get("oclid");let c,p;V(async()=>{await j(),a()});async function a(){console.log("reload"),n(1,f=t.Loading);try{n(2,c=await z.oclient(u)),n(1,f=t.Loaded)}catch(i){n(3,p=i.message),n(1,f=t.LoadingError)}}return[t,f,c,p,o]}class se extends q{constructor(r){super();B(this,r,X,W,M,{})}}export{se as default};
