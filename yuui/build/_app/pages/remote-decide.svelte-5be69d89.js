import{S as J,i as K,s as O,k as E,e as b,t as S,w as Y,M as z,d as _,m as y,c as g,a as L,h as T,x as Q,b as $,g as U,J as m,y as V,a1 as F,_ as G,j,q as W,o as X,B as Z,G as x,K as H,v as ee}from"../chunks/index-471c5598.js";import{f as te,Y as ae,a as oe}from"../chunks/api2-564f7f8d.js";import{B as ne}from"../chunks/Box-a27f9004.js";import{p as le}from"../chunks/stores-08fbc986.js";import"../chunks/index-0b2b7ad8.js";import"../chunks/store-669d404b.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/Icon-b960e3f0.js";function re(o){let n=o[1]("remote-decide.warn")+"",a;return{c(){a=S(n)},l(e){a=T(e,n)},m(e,l){U(e,a,l)},p(e,l){l&2&&n!==(n=e[1]("remote-decide.warn")+"")&&j(a,n)},d(e){e&&_(a)}}}function se(o){let n,a,e,l,r=o[1]("remote-decide.title")+"",v,w,s,N,f,h,k=o[1]("remote-decide.token_label")+"",B,P,i,A,p,M,d,R,C;return document.title=n=o[1]("remote-decide.title"),s=new ne({props:{level:"warn",$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){a=E(),e=b("main"),l=b("h1"),v=S(r),w=E(),Y(s.$$.fragment),N=E(),f=b("form"),h=b("label"),B=S(k),P=E(),i=b("input"),A=E(),p=b("input"),this.h()},l(t){z('[data-svelte="svelte-lfprh3"]',document.head).forEach(_),a=y(t),e=g(t,"MAIN",{});var c=L(e);l=g(c,"H1",{});var D=L(l);v=T(D,r),D.forEach(_),w=y(c),Q(s.$$.fragment,c),N=y(c),f=g(c,"FORM",{});var q=L(f);h=g(q,"LABEL",{});var I=L(h);B=T(I,k),P=y(I),i=g(I,"INPUT",{type:!0,inputmode:!0,autocomplete:!0,pattern:!0}),I.forEach(_),A=y(q),p=g(q,"INPUT",{class:!0,type:!0}),q.forEach(_),c.forEach(_),this.h()},h(){$(i,"type","text"),$(i,"inputmode","numeric"),$(i,"autocomplete","one-time-code"),$(i,"pattern","[0-9]{6}"),$(p,"class","warn"),$(p,"type","button"),p.value=M=o[1]("remote-decide.button_value")},m(t,u){U(t,a,u),U(t,e,u),m(e,l),m(l,v),m(e,w),V(s,e,null),m(e,N),m(e,f),m(f,h),m(h,B),m(h,P),m(h,i),F(i,o[0]),m(f,A),m(f,p),d=!0,R||(C=[G(i,"input",o[3]),G(p,"click",o[2])],R=!0)},p(t,[u]){(!d||u&2)&&n!==(n=t[1]("remote-decide.title"))&&(document.title=n),(!d||u&2)&&r!==(r=t[1]("remote-decide.title")+"")&&j(v,r);const c={};u&34&&(c.$$scope={dirty:u,ctx:t}),s.$set(c),(!d||u&2)&&k!==(k=t[1]("remote-decide.token_label")+"")&&j(B,k),u&1&&i.value!==t[0]&&F(i,t[0]),(!d||u&2&&M!==(M=t[1]("remote-decide.button_value")))&&(p.value=M)},i(t){d||(W(s.$$.fragment,t),d=!0)},o(t){X(s.$$.fragment,t),d=!1},d(t){t&&_(a),t&&_(e),Z(s),R=!1,x(C)}}}function ie(o,n,a){let e,l;H(o,le,s=>a(4,e=s)),H(o,ae,s=>a(1,l=s));let r="";async function v(){await oe.remoteDecide(r),a(0,r="")}ee(async()=>{await te(),a(0,r=e.url.searchParams.get("token"))});function w(){r=this.value,a(0,r)}return[r,l,v,w]}class ve extends J{constructor(n){super();K(this,n,ie,se,O,{})}}export{ve as default};
